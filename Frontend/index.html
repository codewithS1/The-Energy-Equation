<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Energy Equation - Sustainable Blockchain</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/4.2.2/web3.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üå± The Energy Equation</h1>
            <p class="subtitle">Sustainable Consensus Mechanisms for Tomorrow's Blockchain</p>
            <div class="connection-status" id="connectionStatus">
                <span id="statusText">Not Connected</span>
            </div>
        </header>

        <main>
            <!-- Validator Registration Section -->
            <section class="card">
                <h2>üèóÔ∏è Register as Validator</h2>
                <p>Join our network of energy-efficient validators and help build a sustainable blockchain future.</p>
                
                <div class="form-group">
                    <label for="stakeAmount">Stake Amount (ETH):</label>
                    <input type="number" id="stakeAmount" placeholder="Minimum 1 ETH" min="1" step="0.1">
                </div>
                
                <div class="form-group">
                    <label for="efficiencyScore">Energy Efficiency Score (50-100):</label>
                    <input type="number" id="efficiencyScore" placeholder="Enter score 50-100" min="50" max="100">
                    <small>Higher scores indicate more sustainable energy usage</small>
                </div>
                
                <button id="registerBtn" class="btn btn-primary">Register as Validator</button>
            </section>

            <!-- Carbon Offset Section -->
            <section class="card">
                <h2>üåç Carbon Offset Marketplace</h2>
                <p>Purchase carbon credits to offset your environmental impact and earn sustainability bonuses.</p>
                
                <div class="offset-info">
                    <div class="info-item">
                        <span class="label">Price per Credit:</span>
                        <span id="creditPrice" class="value">Loading...</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Available Credits:</span>
                        <span id="availableCredits" class="value">Loading...</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Total Purchased:</span>
                        <span id="totalPurchased" class="value">Loading...</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="creditAmount">Number of Credits to Purchase:</label>
                    <input type="number" id="creditAmount" placeholder="Enter credit amount" min="1">
                </div>
                
                <div class="cost-preview">
                    <span>Total Cost: <strong id="totalCost">0 ETH</strong></span>
                </div>
                
                <button id="purchaseBtn" class="btn btn-secondary">Purchase Carbon Credits</button>
            </section>

            <!-- Validator Information Section -->
            <section class="card">
                <h2>üë§ Validator Information</h2>
                <p>View your validator profile and sustainability metrics.</p>
                
                <div class="form-group">
                    <label for="validatorAddress">Validator Address:</label>
                    <input type="text" id="validatorAddress" placeholder="Enter validator address">
                    <button id="fetchInfoBtn" class="btn btn-small">Get Info</button>
                </div>
                
                <div id="validatorInfo" class="validator-info" style="display: none;">
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">Staked Amount:</span>
                            <span id="stakedAmount" class="value">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Efficiency Score:</span>
                            <span id="efficiencyScoreDisplay" class="value">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Carbon Credits:</span>
                            <span id="carbonCredits" class="value">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Total Rewards:</span>
                            <span id="totalRewards" class="value">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Status:</span>
                            <span id="validatorStatus" class="value status">-</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Admin Section -->
            <section class="card admin-section" id="adminSection" style="display: none;">
                <h2>‚öôÔ∏è Admin Functions</h2>
                <p>Distribute sustainability rewards to all active validators.</p>
                <button id="distributeBtn" class="btn btn-admin">Distribute Rewards</button>
            </section>

            <!-- Network Statistics -->
            <section class="card">
                <h2>üìä Network Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Total Validators:</span>
                        <span id="totalValidators" class="stat-value">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Staked:</span>
                        <span id="totalStaked" class="stat-value">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Reward Pool:</span>
                        <span id="rewardPool" class="stat-value">Loading...</span>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Building a sustainable future, one block at a time.</p>
        </footer>
    </div>

    <!-- Transaction Status Modal -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <h3>Transaction Status</h3>
            <p id="transactionMessage">Processing transaction...</p>
            <div id="loadingSpinner" class="spinner"></div>
            <button id="closeModal" class="btn btn-small" style="display: none;">Close</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>